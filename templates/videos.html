{% extends "base.html" %}
{% block content %}
<section>
    <div class="row margin">
        <div class="col s10 offset-s1 xl8 offset-xl2">
            <div class="page-header">
                Discover
            </div>
            <div class="page-description">
                Keyframe magic from around the world
            </div>
        </div>
    </div>
</section>
    {% if videos|length > 0 %}
    <!-- For screens below 992px -->
    <section id="video-gallery-1">
        {%- for num in range(0, videos | length, 1) -%}
        <div class="row">
            <div class="col s10 offset-s1">
                <!-- https://codepen.io/gaeowyn/pen/oiyHF -->
                <div class=" video-row">
                    <ul>
                        {% for ind in range(videos | length) %}
                            {% if loop.index > num and ind < (num + 1) %}
                            <li class="video">
                                <div class="grey darken-4 white-text video-label">
                                    <h6>{{ videos[ind].video_name }}</h6>
                                    <div class="extra-bold category-name">
                                        {{ videos[ind].category_name }}
                                    </div>
                                    <div class="description-trigger">
                                        <a href="#" class="learn-more-link"><i
                                                class="tiny material-icons">info_outline</i><span>Learn more</span></a>
                                        <p class="learn-more white-text">
                                            {% if videos[ind].video_description | length > 0 %}
                                            {{ videos[ind].video_description }}<br>
                                            <br>
                                            {% endif %}
                                            Credit: {{ videos[ind].video_credit }}<br>
                                            <br>
                                            <br>
                                            <br>
                                            <br>
                                            <em class="added_by">Added by: {{ videos[ind].added_by }}</em>
                                        </p>

                                    </div>
                                </div>
                                <iframe
                                    src="{{videos[ind].video_embed_url}}?api=1&autoplay=0&transparent=0&controls=1&title=0%portrait=0&byline=0"
                                    id="playerC{{ loop.index + num}}" type="text/html" frameborder="0"
                                    allow="autoplay; fullscreen; picture-in-picture" webkitallowfullscreen mozallowfullscreen
                                    allowfullscreen></iframe>
                            </li>
                            {% endif %}
                        {% endfor %}
                    </ul>
                </div>
            </div>
        </div>
        {%- endfor -%}
    </section>
    <!-- For screens between 992px and 1200px -->
    <section id="video-gallery-2">
        {%- for num in range(0, videos | length, 2) -%}
        <div class="row margin">
            <div class="col s10 offset-s1 xl8 offset-xl2">
                <!-- https://codepen.io/gaeowyn/pen/oiyHF -->
                <div class=" video-row">
                    <ul>
                        {% for ind in range(videos | length) %}
                            {% if loop.index > num and ind < (num + 2) %}
                            <li class="video">
                                <div class="grey darken-4 white-text video-label">
                                    <h6>{{ videos[ind].video_name }}</h6>
                                    <div class="extra-bold category-name">
                                        {{ videos[ind].category_name }}
                                    </div>
                                    <div class="description-trigger">
                                        <a href="#" class="learn-more-link"><i
                                                class="tiny material-icons">info_outline</i><span>Learn more</span></a>
                                        <p class="learn-more white-text">
                                            {% if videos[ind].video_description | length > 0 %}
                                            {{ videos[ind].video_description }}<br>
                                            <br>
                                            {% endif %}
                                            Credit: {{ videos[ind].video_credit }}<br>
                                            <br>
                                            <br>
                                            <br>
                                            <br>
                                            <em class="added_by">Added by: {{ videos[ind].added_by }}</em>
                                        </p>
                                    </div>
                                </div>
                                <iframe
                                    src="{{videos[ind].video_embed_url}}?api=1&autoplay=0&transparent=0&controls=1&title=0%portrait=0&byline=0"
                                    id="playerB{{ loop.index + num}}" class="video-frame" type="text/html" frameborder="0"
                                    allow="autoplay; fullscreen; picture-in-picture" webkitallowfullscreen mozallowfullscreen
                                    allowfullscreen></iframe>
                            </li>
                            {% endif %}
                        {% endfor %}
                    </ul>
                </div>
            </div>
        </div>
        {%- endfor -%}
    </section>
    <!-- For screens above 1200px -->
    <section id="video-gallery">
        {%- for num in range(0, videos | length, 4) -%}
        <div class="row margin">
            <div class="col s10 offset-s1 xl8 offset-xl2">
                <!-- https://codepen.io/gaeowyn/pen/oiyHF -->
                <div class=" video-row">
                    <ul>
                        {% for ind in range(videos | length) %}
                            {% if loop.index > num and ind < (num + 4) %}
                            <li class="video">
                                <div class="grey darken-4 white-text video-label">
                                    <h6>{{ videos[ind].video_name }}</h6>
                                    <div class="extra-bold category-name">
                                        {{ videos[ind].category_name }}
                                    </div>
                                    <div class="description-trigger">
                                        <a href="#" class="video-controls" id="{{ loop.index + num }}">Show video
                                            controls</a>
                                        <a href="#" class="learn-more-link tooltipped" data-position="right"
                                            data-tooltip="Learn more"><i class="tiny material-icons">info_outline</i></a>
                                        <p class="learn-more white-text">
                                            {% if videos[ind].video_description | length > 0 %}
                                            {{ videos[ind].video_description }}<br>
                                            <br>
                                            {% endif %}
                                            Credit: {{ videos[ind].video_credit }}<br>
                                            <br>
                                            <br>
                                            <br>
                                            <br>
                                            <em class="learn-more-link">Added by: {{ videos[ind].added_by }}</em>
                                        </p>
                                    </div>
                                </div>
                                <iframe src="{{videos[ind].video_embed_url}}?api=1&autoplay=0&transparent=0&controls=0"
                                    id="player{{ loop.index + num}}" class="video-frame" type="text/html" frameborder="0"
                                    allow="autoplay; fullscreen; picture-in-picture" webkitallowfullscreen mozallowfullscreen
                                    allowfullscreen></iframe>
                            </li>
                            {% endif %}
                        {% endfor %}
                    </ul>
                </div>
            </div>
        </div>
        {%- endfor -%}
    </section>
    {% else %}
    <div class="row">
        <div class="col s10 offset-s1 xl8 offset-xl2">
            <div class="page-description red-text ">
                No Videos found
            </div>
        </div>
    </div>
    {% endif %}
{%- endblock -%}
<!-- Footer starts here -->
<footer class="page-footer margin grey darken-4 grey-text">
    <div class="row">
        <div class="col s10 offset-s1  xl4 offset-xl2">
            <h5 class=" extra-bold grey-text">mograph<span class="logo-dot">.</span>gallery</h5>
            <p class="white-text text-lighten-4 regular">If you have questions, comments, or suggestions, we would love
                to hear from you.</p>
            <a class="extra-bold" href="mailto:info@mograph.gallery" target="_blank"><i
                    class="material-icons">mail_outline</i> Drop us a message.</a>
        </div>
        <div class="col s10 offset-s1  xl4 offset-xl2">
            <h5 class="grey-text regular">Links</h5>
            <ul class="extra-bold">
                {% if session.user %}
                {% if session.user | lower == "admin" | lower %}
                <li><a href="{{ url_for('get_categories')}}">Manage Categories</a></li>
                {% else %}
                <li><a href="{{ url_for('get_categories')}}">Explore Categories</a></li>
                {% endif%}
                <li>
                    <!-- Modal Trigger -->
                    <a class="modal-trigger" href="#uploadModal">Info</a></li>
                <li><a href="{{ url_for('add_video')}}">Add a Video</a></li>
                <li><a href="{{ url_for('profile', username=session['user'])}}">Profile</a></li>
                <li><a href="{{ url_for('logout')}}">Log out</a></li>
                {% else %}
                <li><a href="{{ url_for('get_categories')}}">Explore Categories</a></li>
                <li><a href="{{ url_for('signup')}}">Sign up</a></li>
                <li><a href="{{ url_for('login')}}">Log in</a></li>
                {% endif %}
            </ul>
        </div>
    </div>
    <div class="footer-copyright row grey-text">
        <div class="light col s10 offset-s1  xl8 offset-xl2">Copyright © 2021 mograph.gallery. All rights reserved.
        </div>
    </div>
</footer>
<!-- Footer ends here -->