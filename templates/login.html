{% extends "base.html" %}
{% block content%}

    <!-- Modal Structure -->
    <form id="modal1" class="modal s12 m2 offset-m5" method="POST" action="{{ url_for('login')}}">
        
        <div class="modal-content grey darken-4">
        
            <div class="row center-align"><a href="{{ url_for('get_videos')}}"
                    class="brand-logo extra-bold center-align white-text" id="modal-header">mograph<span
                        class="logo-dot">.</span>gallery</a></div>
            <div class="row white-text center-align" id="modal-tagline">Log in to see more</div>
            <section>
                <!-- flash messages -->
                {% with messages = get_flashed_messages() %}
                    {% if messages %}
                        {% for message in messages%}
                            <div class="row flashes">
                                <h6 class="center-align yellow-text">{{ message }}</h6>
                            </div>
                        {% endfor %}
                    {% endif %}
                {% endwith %}
            </section>
            <div class="signup-info">
                <!-- username -->
                <div class="row">
                    <div class="input-field col s12 username">
                        <i class="material-icons prefix yellow-text">insert_emoticon</i>
                        <input id="username" name="username" minlength="5" maxlength="15" pattern="^[a-zA-Z0-9]{5,15}$" type="text"
                            class="validate white-text" required>
                        <label for="username">Username</label>
                    </div>
                </div>
                <!-- password -->
                <div class="row">
                    <div class="input-field col s12">
                        <i class="material-icons prefix yellow-text">lock_outline</i>
                        <input id="password" name="password" type="password" minlength="5" maxlength="15"
                            pattern="^[a-zA-Z0-9]{5,15}$" class="validate white-text" required>
                        <label for="password">Password</label>
                    </div>
                </div>
            </div>
            <!-- log in -->
            <div class="row center-align grey darken-4 modal-footer">
                <button type="submit" class=" waves-effect waves-green btn s12 col extra-bold">Log in</button>
            
                <p class="center-align white-text " id="login-footer">
                    Need an account?<a class="yellow-text extra-bold" href="{{ url_for('signup')}}">Sign up now</a>
                </p>
            
            </div>
            
        </div>
            
    </form>
    <section>
    <div class="row margin">
    <div class="col s10 offset-s1 xl8 offset-xl2">
        <div class="page-header">
            Discover
        </div>
        <div class="page-description">
            Keyframe magic from around the world
        </div>
    </div>
    </div>
</section>
<!-- For screens between 992px and 1200px -->
<section id="video-gallery-1">
    {%- for num in range(0, videos | length, 1) -%}
        <div class="row margin">
            
            <div class="col s10 offset-s1 xl8 offset-xl2">
                <!-- https://codepen.io/gaeowyn/pen/oiyHF -->
                <div class=" video-row">
                    <ul>
                        {% for ind in range(videos | length) %}
                            {% if loop.index > num and ind < (num + 1) %}
                            <li class="video">
                                <div class="grey darken-4 white-text video-label">
                                    <h6>{{ videos[ind].video_name }}</h6>
                                    <div class="extra-bold category-name">
                                        {{ videos[ind].category_name }}
                                    </div>
                                    <div class="description-trigger">
                                        <a href="#" class="learn-more-link"><i class="tiny material-icons">info_outline</i><span>Learn more</span></a>
                                        <p class="learn-more white-text">
                                            {% if videos[ind].video_description | length > 0 %}
                                                {{ videos[ind].video_description }}<br>
                                                <br>
                                            {% endif %}
                                            Credit: {{ videos[ind].video_credit }}<br>
                                            <br>
                                            <br>
                                            <br>
                                            <br>
                                            <em class="learn-more-link">Added by: {{ videos[ind].added_by }}</em>
                                        </p>
                                        
                                    </div>
                                </div>
                                <iframe src="{{videos[ind].video_embed_url}}?api=1&autoplay=0&transparent=0&controls=1&title=0%portrait=0&byline=0"
                                    id="playerC{{ loop.index + num}}" class="video-frame" type="text/html" frameborder="0"
                                    allow="autoplay; fullscreen; picture-in-picture" webkitallowfullscreen mozallowfullscreen
                                    allowfullscreen></iframe>
                            </li>
                            {% endif %}
                        {% endfor %}
                    </ul>
                </div>
            </div>
        </div>

    {%- endfor -%}
</section>
<!-- For screens between 992px and 1200px -->
<section id="video-gallery-2">
    {%- for num in range(0, videos | length, 2) -%}
        <div class="row margin">
            
            <div class="col s10 offset-s1 xl8 offset-xl2">
                <!-- https://codepen.io/gaeowyn/pen/oiyHF -->
                <div class=" video-row">
                    <ul>
                        {% for ind in range(videos | length) %}
                            {% if loop.index > num and ind < (num + 2) %}
                            <li class="video">
                                <div class="grey darken-4 white-text video-label">
                                    <h6>{{ videos[ind].video_name }}</h6>
                                    <div class="extra-bold category-name">
                                        {{ videos[ind].category_name }}
                                    </div>
                                    <div class="description-trigger">
                                       <a href="#" class="learn-more-link"><i class="tiny material-icons">info_outline</i><span>Learn more</span></a>
                                        <p class="learn-more white-text">
                                            {% if videos[ind].video_description | length > 0 %}
                                                {{ videos[ind].video_description }}<br>
                                                <br>
                                            {% endif %}
                                            Credit: {{ videos[ind].video_credit }}<br>
                                            <br>
                                            <br>
                                            <br>
                                            <br>
                                            <em class="learn-more-link">Added by: {{ videos[ind].added_by }}</em>
                                        </p>
                                        
                                    </div>
                                </div>
                                <iframe src="{{videos[ind].video_embed_url}}?api=1&autoplay=0&transparent=0&controls=1&title=0%portrait=0&byline=0"
                                    id="playerB{{ loop.index + num}}" class="video-frame" type="text/html" frameborder="0"
                                    allow="autoplay; fullscreen; picture-in-picture" webkitallowfullscreen mozallowfullscreen
                                    allowfullscreen></iframe>
                            </li>
                            {% endif %}
                        {% endfor %}
                    </ul>
                </div>
            </div>
        </div>

    {%- endfor -%}
</section>
<!-- For screens above 1200px -->
<section id="video-gallery">
    {%- for num in range(0, videos | length, 4) -%}
        <div class="row margin">
            
            <div class="col s10 offset-s1 xl8 offset-xl2">
                <!-- https://codepen.io/gaeowyn/pen/oiyHF -->
                <div class=" video-row">
                    <ul>
                        {% for ind in range(videos | length) %}
                            {% if loop.index > num and ind < (num + 4) %}
                            <li class="video">
                                <div class="grey darken-4 white-text video-label">
                                    <h6>{{ videos[ind].video_name }}</h6>
                                    <div class="extra-bold category-name">
                                        {{ videos[ind].category_name }}
                                    </div>
                                    <div class="description-trigger">
                                        <a href="#" class="video-controls" id="{{ loop.index + num }}">Show video
                                            controls</a>
                                        <a href="#" class="learn-more-link tooltipped"  data-position="right" data-tooltip="Learn more"><i class="tiny material-icons">info_outline</i></a>
                                        <p class="learn-more white-text">
                                            {% if videos[ind].video_description | length > 0 %}
                                                {{ videos[ind].video_description }}<br>
                                                <br>
                                            {% endif %}
                                            Credit: {{ videos[ind].video_credit }}<br>
                                            <br>
                                            <br>
                                            <br>
                                            <br>
                                            <em class="learn-more-link">Added by: {{ videos[ind].added_by }}</em>
                                        </p>
                                        
                                    </div>
                                </div>
                                <iframe src="{{videos[ind].video_embed_url}}?api=1&autoplay=0&transparent=0&controls=0"
                                    id="player{{ loop.index + num}}" class="video-frame" type="text/html" frameborder="0"
                                    allow="autoplay; fullscreen; picture-in-picture" webkitallowfullscreen mozallowfullscreen
                                    allowfullscreen></iframe>
                            </li>
                            {% endif %}
                        {% endfor %}
                    </ul>
                </div>
            </div>
        </div>

    {%- endfor -%}
</section>

{% endblock %}